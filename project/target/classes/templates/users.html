<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta charset="ISO-8859-1">
    <title>Home Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        header{
            background-color: #7598B6;
        }

        a{
            color: white;
        }

        .flex{
            display: flex;
            flex-direction: row;
            justify-content: space-around;
            padding: 50px;
            color:white;
            background-color: black;
            margin-top:-15px;
            opacity: 0.9;
        }
        .flex1{
            display: flex;
            flex-direction: column;
            width: 20%;
        }
        .flex2{
            display: flex;
            flex-direction: column;
            width: 20%;
        }
        .flex3{
            display: flex;
            flex-direction: column;
            width: 20%;
        }
        .flex4{
            display: flex;
            flex-direction: column;
            width: 20%;
        }
        hr{
            border: none;
            background-color: white; /*aligning text in places on the page */
            color: black; /*Selecting the color of the main text */
            height: 2px; /*Change the height of the border around*/
            width:200px;/*Change the width of the border around*/
            margin-left: -20px;
        }
        h5{
            font-family: "Segoe UI";
        }
        .linkss{
            text-decoration: none;
            color:white;
        }
        .linkss:hover{
            text-decoration: none;
            color:black;
            background-color: white;
            padding: 5px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<header class="d-flex justify-content-center p-3">

    <div class="col-1" style="color: white;"> Welcome <b><span sec:authentication="name">Username</span></b>

    </div>

    <div class="col-2 text-sm-center" style="color: white;"> <span sec:authentication="principal.authorities">Roles:</span></div>
    <div class="col-2 text-sm-center">
    <div class="col-2 text-sm-center">   <form th:action="@{/logout}" method="post">
        <input type="submit" class="" style="background-color: #7598B6; color: white; border: 1px solid #7598B6; " value="Logout" />
    </form>
    </div>
</header>


<div style="height: 600px; margin-left: 250px;" class="col-8 d-flex align-items-center justify-content-center">
    <table border="1" class="table table-bordered table-striped table-responsive-md text-center " style="margin-top: 80px; margin-bottom: 100px;" >
        <thead>
        <tr style="background-color: #7598B6; color: white;">
            <th>User ID</th>
            <th>E-mail</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Roles</th>
            <th sec:authorize="hasAnyAuthority('ADMIN', 'USER')">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user: ${listUsers}">
            <td>[[${user.id}]]</td>
            <td>[[${user.email}]]</td>
            <td>[[${user.firstName}]]</td>
            <td>[[${user.lastName}]]</td>
            <td>[[${user.roles}]]</td>
            <td sec:authorize="hasAnyAuthority('ADMIN', 'USER')"><a th:href="@{'/users/edit/' + ${user.id}}" class="btn btn-primary" style="color: white;">Edit</a>
                <a sec:authorize="hasAuthority('ADMIN')" th:href="@{/users/delete/{id}(id=${user.id})}" class=" btn btn-danger"style="color: white;">Delete</a>
            </td>
        </tr>
        </tbody>
    </table>

</div>




<footer class="flex">


    <div class="flex1">
        <div>
            <h5>Services</h5>
            <hr>
        </div>
        <div><a class="linkss" href="country1.html">Travel tours</a></div>
        <div><a class="linkss" href="info.html">Vacations</a></div>
    </div>
    <div class="flex2">
        <div>
            <h5>About</h5>
            <hr>
        </div>
        <div><a class="linkss" href="aboutus.html">About Us</a></div>
    </div>
    <div class="flex3">
        <div>
            <h5>Contacts</h5>
            <hr>
        </div>
        <div>+7654xxxxxxx</div>
        <div>Nur-Sultan<br>
            Astana IT University</div>
    </div>

</footer>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</div>
</body>
</html>